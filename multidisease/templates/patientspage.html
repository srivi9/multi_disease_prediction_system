
{% extends "base.html" %}


{% block body %}


<div class="container">
    <h1>Patients' login</h1>
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for category, message in messages %}
            <div class="alert alert-{{ category }}">
                {{ message }}
            </div>
        {% endfor %}
      {% endif %}
    {% endwith %}
    <form id = "auth-form" action="{{url_for('patient_routes.patient_login')}}" method="post">
        <input type="text"
         name="username"
         placeholder="username"
         class="input-field"
         />
        <input type="password"
         name="password"
         placeholder="password"
         class="input-field"
         />
        <input type="submit"
         value="Login"
          class="btn btn-login"
        onclick="setActionForm('login')"
        />
        <h4>Don't have an account <a href="{{url_for('patient_routes.patientregistration_page')}}">Register here</a></h4>
       
        
    </form>
</div>

<script>
    function setActionForm(action){
        let form = document.getElementById("auth-form");
        if (action === 'login'){
            form.action = "{{url_for('patient_routes.patient_login')}}";
            form.method="post"
            form.submit();
        } else if (action === 'register'){
            form.action = "{{url_for('patient_routes.patient_register')}}";
            form.method = 'post';
            form.submit();
        }
    }
</script>
{% endblock %}